{% extends "base.html" %}

{% block content %}
<div class="myform">
	<h1>Add contest</h1>
	{% if problems %}
		<h2>Availible problems</h2>
		<table class="table table-bordered table-dark">
			<tr>
				<th>Problem id</th>
				<th>Problem name</th>
			</tr>
			{% for i in problems %}
				<tr>
					<td>{{i.id}}</td>
					<td>{{i.name}}</td>
				</tr>
			{% endfor %}
		</table>
		<form action="" method="post">
			{{ form.hidden_tag() }}
			{{ form.csrf_token }}
			<p>
				{{ form.name.label }}<br>
				{{ form.name(class="form-control") }}<br>
				{% for error in form.name.errors %}
					<p class="alert alert-danger" role="alert">
						{{ error }}
					</p>
				{% endfor %}
			</p>
			<p>
				{{ form.start_date.label }}<br>
				{{ form.start_date(class="form-control", type="datetime-local") }}<br>
				{% for error in form.start_date.errors %}
					<p class="alert alert-danger" role="alert">
						{{ error }}
					</p>
				{% endfor %}
			</p>
			<p>
				{{ form.finish_date.label }}<br>
				{{ form.finish_date(class="form-control", type="datetime-local") }}<br>
				{% for error in form.finish_date.errors %}
					<p class="alert alert-danger" role="alert">
						{{ error }}
					</p>
				{% endfor %}
			</p>
			<p>
				{{ form.problems.label }}<br>
				{{ form.problems(class="form-control") }}<br>
				{% for error in form.problems.errors %}
					<p class="alert alert-danger" role="alert">
						{{ error }}
					</p>
				{% endfor %}
			</p>
			<p>{{ form.submit(type="submit", class="btn btn-dark") }}</p>
			{% if message %}
				<div class="alert alert-dark pt-10" role="alert">
				  {{message}}
				</div>
			{% endif %}
		</form>
	{% else %}
		<div class="alert alert-dark pt-20" role="alert">
		  <h3>No one problem is availible</h3>
		  <br>
		  <a class="btn btn-dark" href="/add_problem">Add problem</a>
		</div>
	{% endif %}
</div>
{% endblock %}